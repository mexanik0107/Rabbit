
--- –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –ò–ò ---

–†–û–õ–¨ –ò–ò: –û–ø—ã—Ç–Ω—ã–π C# —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏–≥—Ä –Ω–∞ Unity.
  - –í —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–µ –≤–ª–∞–¥–µ–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ SOLID, –û–û–ü –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ECS, –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–Ω–µ–Ω—Ç).
  - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: —Ñ–∏–∑–∏–∫–∞, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (–æ—Å–æ–±–µ–Ω–Ω–æ —Å–ª–æ–∂–Ω—ã–µ, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —É–∑–ª–∞—Ö/—Ñ–∏–∑–∏–∫–µ), –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞.
  - –¶–µ–ª—å: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ—á–Ω—ã–π, —á–∏—Å—Ç—ã–π –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π C# –∫–æ–¥, –æ–±—ä—è—Å–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, –¥–∞–≤–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –ø–æ–º–æ–≥–∞—Ç—å –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏—Ö –∏–¥–µ–π.

–†–û–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø: –ù–∞—á–∏–Ω–∞—é—â–∏–π –≥–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä.
  - –ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏, –ø–æ—á–µ–º—É –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –∏–º–µ–Ω–Ω–æ —Ç–∞–∫, –∏ –∫–∞–∫ –º–æ–∏ –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.
  - –¶–µ–ª—å: –ü–æ–ª—É—á–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ–¥—É –∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ª—É—á—à–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏.

–ü–†–ê–í–ò–õ–ê –û–¢–í–ï–¢–ê –ò–ò:
1. –í—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –æ–ø—ã—Ç–Ω–æ–≥–æ C# —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∞–¥–∞–ø—Ç–∏—Ä—É—è —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–µ–≥–æ –≥–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä–∞.
2. –ü—Ä–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ, —Å—Å—ã–ª–∞–π—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ SlimeCharacterController –Ω–∞—Ä—É—à–∞–µ—Ç SRP, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–Ω–µ–Ω—Ç").
3. –£–∫–∞–∑—ã–≤–∞–π, –≤ –∫–∞–∫–æ–º —Ñ–∞–π–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–ª–µ–¥—É–µ—Ç –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
4. –ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–∫—Ä–∏–ø—Ç, –ø–∏—à–∏ –∏–∑–º–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—É—é —á–∞—Å—Ç—å.

--- –ö–û–ù–ï–¶ –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø –ò–ò ---

--- START OF FILE all_cs_files.txt ---

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Editor\AudioDashboard.cs
================================================================================

using UnityEngine;
using UnityEditor;

// –≠—Ç–æ—Ç –∫–ª–∞—Å—Å —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ –≤ Unity
public class AudioDashboard : EditorWindow
{
    // –°—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–µ—Ñ–∞–±—ã, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –±—É–¥–µ–º —Ç—è–Ω—É—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    private GameObject _playerPrefab;
    private GameObject _enemyPrefab;

    // –°–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è –æ–∫–Ω–∞, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±—É–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
    private Vector2 _scrollPos;

    // –ü—É–Ω–∫—Ç –º–µ–Ω—é, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–æ
    [MenuItem("Tools/Audio Dashboard üéß")]
    public static void ShowWindow()
    {
        GetWindow<AudioDashboard>("Audio Config");
    }

    void OnGUI()
    {
        // –ö—Ä–∞—Å–∏–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
        GUILayout.Label("–¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤—É–∫–æ–º", EditorStyles.boldLabel);
        EditorGUILayout.Space();

        // –ü–æ–ª—è –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –ø—Ä–µ—Ñ–∞–±–æ–≤
        GUILayout.Label("1. –ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ —Å–≤–æ–∏ –ø—Ä–µ—Ñ–∞–±—ã (–∏–∑ –ø–∞–ø–∫–∏ Project):", EditorStyles.helpBox);
        _playerPrefab = (GameObject)EditorGUILayout.ObjectField("Player Prefab", _playerPrefab, typeof(GameObject), false);
        _enemyPrefab = (GameObject)EditorGUILayout.ObjectField("Enemy Prefab", _enemyPrefab, typeof(GameObject), false);

        EditorGUILayout.Space();
        GUILayout.Label("2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–æ–≤:", EditorStyles.boldLabel);

        // –ù–∞—á–∞–ª–æ –∑–æ–Ω—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        _scrollPos = EditorGUILayout.BeginScrollView(_scrollPos);

        if (_playerPrefab != null)
        {
            DrawPlayerAudioSettings();
        }
        else
        {
            EditorGUILayout.HelpBox("–ù–∞–∑–Ω–∞—á—å Player Prefab, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –µ–≥–æ –∑–≤—É–∫–∏.", MessageType.Info);
        }

        EditorGUILayout.Space();
        DrawLine();
        EditorGUILayout.Space();

        if (_enemyPrefab != null)
        {
            DrawEnemyAudioSettings();
        }
        else
        {
            EditorGUILayout.HelpBox("–ù–∞–∑–Ω–∞—á—å Enemy Prefab, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –µ–≥–æ –∑–≤—É–∫–∏.", MessageType.Info);
        }

        EditorGUILayout.EndScrollView();
    }

    private void DrawPlayerAudioSettings()
    {
        GUILayout.Label($"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ò–≥—Ä–æ–∫–∞ ({_playerPrefab.name})", EditorStyles.boldLabel);

        // --- –ë–ª–æ–∫ 1: PlayerController (–®–∞–≥–∏) ---
        var playerController = _playerPrefab.GetComponent<PlayerController>();
        if (playerController != null)
        {
            // –°–æ–∑–¥–∞–µ–º "–æ–±–µ—Ä—Ç–∫—É" SerializedObject, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Ctrl+Z)
            SerializedObject so = new SerializedObject(playerController);
            so.Update(); // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ

            EditorGUILayout.LabelField("–î–≤–∏–∂–µ–Ω–∏–µ (PlayerController)", EditorStyles.miniBoldLabel);

            // –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
            EditorGUILayout.PropertyField(so.FindProperty("footstepSounds"), new GUIContent("–ó–≤—É–∫–∏ —à–∞–≥–æ–≤"), true);
            EditorGUILayout.PropertyField(so.FindProperty("stepInterval"), new GUIContent("–ò–Ω—Ç–µ—Ä–≤–∞–ª —à–∞–≥–∞ (—Å–µ–∫)"));

            so.ApplyModifiedProperties(); // –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
        }

        EditorGUILayout.Space();

        // --- –ë–ª–æ–∫ 2: PlayerCuteness (–ì–µ–π–º–ø–ª–µ–π) ---
        var playerCuteness = _playerPrefab.GetComponent<PlayerCuteness>();
        if (playerCuteness != null)
        {
            SerializedObject so = new SerializedObject(playerCuteness);
            so.Update();

            EditorGUILayout.LabelField("–ú–∏–ª–æ—Ç–∞ / –ì–µ–π–º–ø–ª–µ–π (PlayerCuteness)", EditorStyles.miniBoldLabel);

            EditorGUILayout.PropertyField(so.FindProperty("damageSound"), new GUIContent("–ó–≤—É–∫ –ø–æ–ª—É—á–µ–Ω–∏—è –º–∏–ª–æ—Ç—ã"));
            EditorGUILayout.PropertyField(so.FindProperty("restoreSound"), new GUIContent("–ó–≤—É–∫ —É–±–∏–π—Å—Ç–≤–∞ –≤—Ä–∞–≥–∞"));
            EditorGUILayout.PropertyField(so.FindProperty("gameOverSound"), new GUIContent("–ó–≤—É–∫ Game Over"));

            so.ApplyModifiedProperties();
        }
    }

    private void DrawEnemyAudioSettings()
    {
        GUILayout.Label($"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –í—Ä–∞–≥–∞ ({_enemyPrefab.name})", EditorStyles.boldLabel);

        // --- –ë–ª–æ–∫ 1: EnemyAI (–ê—Ç–∞–∫–∞) ---
        var enemyAI = _enemyPrefab.GetComponent<EnemyAI>();
        if (enemyAI != null)
        {
            SerializedObject so = new SerializedObject(enemyAI);
            so.Update();

            EditorGUILayout.LabelField("–ë–æ–π (EnemyAI)", EditorStyles.miniBoldLabel);
            EditorGUILayout.PropertyField(so.FindProperty("attackSound"), new GUIContent("–ó–≤—É–∫ –ê—Ç–∞–∫–∏"));

            so.ApplyModifiedProperties();
        }

        EditorGUILayout.Space();

        // --- –ë–ª–æ–∫ 2: EnemyHealth (–ü–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–Ω–∞) ---
        var enemyHealth = _enemyPrefab.GetComponent<EnemyHealth>();
        if (enemyHealth != null)
        {
            SerializedObject so = new SerializedObject(enemyHealth);
            so.Update();

            EditorGUILayout.LabelField("–ó–¥–æ—Ä–æ–≤—å–µ (EnemyHealth)", EditorStyles.miniBoldLabel);
            EditorGUILayout.PropertyField(so.FindProperty("hitSound"), new GUIContent("–ó–≤—É–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞"));
            EditorGUILayout.PropertyField(so.FindProperty("deathSound"), new GUIContent("–ó–≤—É–∫ —Å–º–µ—Ä—Ç–∏"));

            so.ApplyModifiedProperties();
        }
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏
    private void DrawLine()
    {
        Rect rect = EditorGUILayout.GetControlRect(false, 1);
        rect.height = 1;
        EditorGUI.DrawRect(rect, new Color(0.5f, 0.5f, 0.5f, 1));
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\AmmoPickup.cs
================================================================================

using UnityEngine;

[RequireComponent(typeof(Collider2D))]
public class AmmoPickup : MonoBehaviour
{
    [Tooltip("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ç—Ä–æ–Ω–æ–≤ –≤ —ç—Ç–æ–π –∫–æ—Ä–æ–±–∫–µ")]
    public int ammoAmount = 10;

    [Tooltip("–ó–≤—É–∫ –ø–æ–¥–±–æ—Ä–∞")]
    public AudioClip pickupSound;

    private void OnTriggerEnter2D(Collider2D collision)
    {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤ –Ω–∞—Å –≤–æ—à–µ–ª –∏–º–µ–Ω–Ω–æ –ò–≥—Ä–æ–∫
        if (collision.CompareTag("Player"))
        {
            // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç—Ä–µ–ª—å–±—ã
            PlayerShooting shooting = collision.GetComponent<PlayerShooting>();

            if (shooting != null)
            {
                shooting.AddAmmo(ammoAmount);

                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ (—á–µ—Ä–µ–∑ AudioSource.PlayClipAtPoint, —Ç.–∫. –æ–±—ä–µ–∫—Ç —Å–µ–π—á–∞—Å —É–Ω–∏—á—Ç–æ–∂–∏—Ç—Å—è)
                if (pickupSound != null)
                {
                    AudioSource.PlayClipAtPoint(pickupSound, transform.position);
                }

                Destroy(gameObject);
            }
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\Camera.cs
================================================================================

using UnityEngine;

public class CameraFollow : MonoBehaviour
{
    [Header("Target")]
    public Transform player;       // –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–≥—Ä–æ–∫–∞

    [Header("Settings")]
    public float smoothSpeed = 5f; // –ù–∞—Å–∫–æ–ª—å–∫–æ –ø–ª–∞–≤–Ω–æ –∫–∞–º–µ—Ä–∞ –¥–æ–≥–æ–Ω—è–µ—Ç –∏–≥—Ä–æ–∫–∞ (—á–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º —Ä–µ–∑—á–µ)

    [Header("Limits")]
    // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥—Ä–∞–Ω–∏—Ü, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ —Ü–µ–Ω—Ç—Ä –∫–∞–º–µ—Ä—ã –Ω–µ –º–æ–∂–µ—Ç –≤—ã–µ—Ö–∞—Ç—å
    public Vector2 minPosition;    // –õ–µ–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª
    public Vector2 maxPosition;    // –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª

    void LateUpdate()
    {
        if (player == null) return;

        // 1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫—É–¥–∞ –∫–∞–º–µ—Ä–∞ –•–û–ß–ï–¢ –ø–æ–ø–∞—Å—Ç—å (–ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞ + —Å–æ—Ö—Ä–∞–Ω—è–µ–º Z –∫–∞–º–µ—Ä—ã)
        Vector3 targetPosition = new Vector3(player.position.x, player.position.y, transform.position.z);

        // 2. –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —ç—Ç—É –ø–æ–∑–∏—Ü–∏—é —Ä–∞–º–∫–∞–º–∏ (Clamp)
        targetPosition.x = Mathf.Clamp(targetPosition.x, minPosition.x, maxPosition.x);
        targetPosition.y = Mathf.Clamp(targetPosition.y, minPosition.y, maxPosition.y);

        // 3. –ü–ª–∞–≤–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞–µ–º –∫–∞–º–µ—Ä—É –∫ —ç—Ç–æ–π —Ç–æ—á–∫–µ
        transform.position = Vector3.Lerp(transform.position, targetPosition, smoothSpeed * Time.deltaTime);
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\EnemyAI.cs
================================================================================

using UnityEngine;

[RequireComponent(typeof(Rigidbody2D))]
[RequireComponent(typeof(AudioSource))] // –í—Ä–∞–≥—É —Ç–æ–∂–µ –Ω—É–∂–µ–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–≤—É–∫–∞
public class EnemyAI : MonoBehaviour
{
    [Header("Targeting")]
    public Transform player;
    public bool findPlayerAutomatically = true;

    [Header("Movement Stats")]
    public float moveSpeed = 3f;
    public float rotationSpeed = 10f;

    [Header("Combat Stats")]
    public float attackRange = 1.5f;
    public float attackCooldown = 1f;
    public float cutenessDamage = 10f;

    [Header("Audio")]
    public AudioClip attackSound; // –ó–≤—É–∫ "–∫—É—Å—å" –∏–ª–∏ —É–¥–∞—Ä–∞

    private Rigidbody2D _rb;
    private AudioSource _audioSource;
    private float _lastAttackTime;
    private Vector2 _movementVector;

    void Awake()
    {
        _rb = GetComponent<Rigidbody2D>();
        _audioSource = GetComponent<AudioSource>();
    }

    void Start()
    {
        if (findPlayerAutomatically && player == null)
        {
            GameObject playerObj = GameObject.FindGameObjectWithTag("Player");
            if (playerObj != null)
            {
                player = playerObj.transform;
            }
        }
    }

    void Update()
    {
        if (player == null) return;

        float distanceToPlayer = Vector2.Distance(transform.position, player.position);

        if (distanceToPlayer > attackRange)
        {
            CalculateMovement();
        }
        else
        {
            StopMovement();
            if (Time.time >= _lastAttackTime + attackCooldown)
            {
                PerformAttack();
            }
        }

        RotateTowardsPlayer();
    }

    void FixedUpdate()
    {
        MoveEnemy();
    }

    private void CalculateMovement()
    {
        Vector2 direction = (player.position - transform.position).normalized;
        _movementVector = direction;
    }

    private void StopMovement()
    {
        _movementVector = Vector2.zero;
    }

    private void RotateTowardsPlayer()
    {
        if (player == null) return;
        Vector2 direction = player.position - transform.position;
        float angle = Mathf.Atan2(direction.y, direction.x) * Mathf.Rad2Deg - 90f;
        Quaternion targetRotation = Quaternion.Euler(0, 0, angle);
        transform.rotation = Quaternion.Lerp(transform.rotation, targetRotation, rotationSpeed * Time.deltaTime);
    }

    private void PerformAttack()
    {
        _lastAttackTime = Time.time;

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –∞—Ç–∞–∫–∏
        if (attackSound != null && _audioSource != null)
        {
            _audioSource.PlayOneShot(attackSound);
        }

        if (player != null)
        {
            PlayerCuteness playerCuteness = player.GetComponent<PlayerCuteness>();
            if (playerCuteness != null)
            {
                playerCuteness.AddCuteness(cutenessDamage);
                Debug.Log($"{name} –¥–æ–±–∞–≤–∏–ª –∏–≥—Ä–æ–∫—É –º–∏–ª–æ—Ç—ã!");
            }
        }
    }

    private void MoveEnemy()
    {
        _rb.MovePosition(_rb.position + _movementVector * moveSpeed * Time.fixedDeltaTime);
    }

    void OnDrawGizmosSelected()
    {
        Gizmos.color = Color.red;
        Gizmos.DrawWireSphere(transform.position, attackRange);
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\EnemyHealth.cs
================================================================================

using UnityEngine;
using System;

[RequireComponent(typeof(AudioSource))]
public class EnemyHealth : MonoBehaviour
{
    [Header("Settings")]
    public float maxHealth = 10f;

    [Header("Audio")]
    public AudioClip hitSound;
    public AudioClip deathSound;

    public static event Action<float> OnEnemyDied;

    private float _currentHealth;
    private AudioSource _audioSource;

    void Awake()
    {
        _audioSource = GetComponent<AudioSource>();
    }

    void OnEnable()
    {
        _currentHealth = maxHealth;
    }

    public void TakeDamage(float damage)
    {
        _currentHealth -= damage;

        if (hitSound != null)
        {
            _audioSource.PlayOneShot(hitSound);
        }

        if (_currentHealth <= 0)
        {
            Die();
        }
    }

    private void Die()
    {
        // --- –ù–û–í–û–ï: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ª—É—Ç ---
        // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç LootDropper –Ω–∞ —ç—Ç–æ–º –∂–µ –≤—Ä–∞–≥–µ
        // –ï—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ TryDropLoot()
        if (TryGetComponent(out LootDropper looter))
        {
            looter.TryDropLoot();
        }
        // ------------------------------

        OnEnemyDied?.Invoke(5f);

        if (deathSound != null)
        {
            AudioSource.PlayClipAtPoint(deathSound, transform.position);
        }

        Destroy(gameObject);
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\LootDropper.cs
================================================================================

using UnityEngine;

public class LootDropper : MonoBehaviour
{
    [Header("Loot Settings")]
    public GameObject ammoPickupPrefab; // –ü—Ä–µ—Ñ–∞–± –∫–æ—Ä–æ–±–∫–∏ —Å –ø–∞—Ç—Ä–æ–Ω–∞–º–∏

    [Range(0f, 1f)]
    public float dropChance = 0.3f; // –®–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è (0.3 = 30%)

    public int minAmmo = 5;
    public int maxAmmo = 15;

    // –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –º—ã –≤—ã–∑–æ–≤–µ–º –∏–∑ EnemyHealth –ø–µ—Ä–µ–¥ —Å–º–µ—Ä—Ç—å—é
    public void TryDropLoot()
    {
        if (ammoPickupPrefab == null) return;

        // –ë—Ä–æ—Å–∞–µ–º –∫—É–±–∏–∫ (–æ—Ç 0.0 –¥–æ 1.0)
        float roll = Random.value;

        if (roll <= dropChance)
        {
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–ª-–≤–æ –ø–∞—Ç—Ä–æ–Ω–æ–≤
            int amount = Random.Range(minAmmo, maxAmmo + 1);

            // –°–æ–∑–¥–∞–µ–º –∫–æ—Ä–æ–±–∫—É –Ω–∞ –º–µ—Å—Ç–µ —Å–º–µ—Ä—Ç–∏ –≤—Ä–∞–≥–∞
            GameObject loot = Instantiate(ammoPickupPrefab, transform.position, Quaternion.identity);

            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ—Ä–æ–±–∫—É (–ø–µ—Ä–µ–¥–∞–µ–º –≤ –Ω–µ–µ –∫–æ–ª-–≤–æ –ø–∞—Ç—Ä–æ–Ω–æ–≤)
            AmmoPickup pickupScript = loot.GetComponent<AmmoPickup>();
            if (pickupScript != null)
            {
                pickupScript.ammoAmount = amount;
            }
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\MinimapFollow.cs
================================================================================

using UnityEngine;

public class MinimapFollow : MonoBehaviour
{
    public Transform player; // –ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ –∏–≥—Ä–æ–∫–∞

    // –ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –º–∏–Ω–∏–∫–∞—Ä—Ç–∞ –≤—Ä–∞—â–∞–ª–∞—Å—å –≤–º–µ—Å—Ç–µ —Å –∏–≥—Ä–æ–∫–æ–º, –ø–æ—Å—Ç–∞–≤—å true
    public bool rotateWithPlayer = false;

    void LateUpdate()
    {
        if (player == null) return;

        // –°–ª–µ–¥–∏–º –∑–∞ –ø–æ–∑–∏—Ü–∏–µ–π –∏–≥—Ä–æ–∫–∞, –Ω–æ –≤—ã—Å–æ—Ç—É (z) –æ—Å—Ç–∞–≤–ª—è–µ–º —Å–≤–æ—é (-10 –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É)
        Vector3 newPosition = player.position;
        newPosition.z = transform.position.z;
        transform.position = newPosition;

        if (rotateWithPlayer)
        {
            // –í—Ä–∞—â–∞–µ–º –∫–∞–º–µ—Ä—É —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏–≥—Ä–æ–∫–∞ (–≤–æ–∫—Ä—É–≥ –æ—Å–∏ Z)
            transform.rotation = Quaternion.Euler(0, 0, player.eulerAngles.z);
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\PlayerController.cs
================================================================================

using UnityEngine;
using UnityEngine.InputSystem;

// –î–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ null reference
[RequireComponent(typeof(AudioSource))]
public class PlayerController : MonoBehaviour
{
    [Header("Settings")]
    public float moveSpeed = 10f;

    [Header("Audio Settings")]
    public AudioClip[] footstepSounds; // –ú–∞—Å—Å–∏–≤ –∑–≤—É–∫–æ–≤ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
    public float stepInterval = 0.5f;  // –ö–∞–∫ —á–∞—Å—Ç–æ –∏–≥—Ä–∞—Ç—å –∑–≤—É–∫ (—á–µ–º –º–µ–Ω—å—à–µ, —Ç–µ–º —á–∞—â–µ)

    [Header("References")]
    public Camera cam;
    public Rigidbody2D rb;

    private Vector2 movement;
    private Vector2 mousePos;
    private AudioSource _audioSource;
    private float _stepTimer;

    [HideInInspector] public float speedMultiplier = 1f;

    void Awake()
    {
        // –ö—ç—à–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        _audioSource = GetComponent<AudioSource>();
    }

    void Update()
    {
        // 1. –°—á–∏—Ç—ã–≤–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        movement = Vector2.zero;
        if (Keyboard.current != null)
        {
            if (Keyboard.current.wKey.isPressed) movement.y += 1;
            if (Keyboard.current.sKey.isPressed) movement.y -= 1;
            if (Keyboard.current.aKey.isPressed) movement.x -= 1;
            if (Keyboard.current.dKey.isPressed) movement.x += 1;
        }

        movement = movement.normalized;

        // 2. –°—á–∏—Ç—ã–≤–∞–µ–º –º—ã—à—å
        if (Mouse.current != null)
        {
            mousePos = cam.ScreenToWorldPoint(Mouse.current.position.ReadValue());
        }

        // 3. –õ–æ–≥–∏–∫–∞ –∑–≤—É–∫–∞ —à–∞–≥–æ–≤
        HandleFootsteps();
    }

    void FixedUpdate()
    {
        float currentSpeed = moveSpeed * speedMultiplier;
        rb.MovePosition(rb.position + movement * currentSpeed * Time.fixedDeltaTime);

        Vector2 lookDir = mousePos - rb.position;
        float angle = Mathf.Atan2(lookDir.y, lookDir.x) * Mathf.Rad2Deg - 90f;
        rb.rotation = angle;
    }

    private void HandleFootsteps()
    {
        // –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –¥–≤–∏–≥–∞–µ—Ç—Å—è (–≤–µ–∫—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è –Ω–µ —Ä–∞–≤–µ–Ω –Ω—É–ª—é)
        if (movement.sqrMagnitude > 0.1f)
        {
            _stepTimer -= Time.deltaTime;

            if (_stepTimer <= 0)
            {
                PlayRandomFootstep();
                _stepTimer = stepInterval; // –°–±—Ä–æ—Å —Ç–∞–π–º–µ—Ä–∞
            }
        }
        else
        {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä, —á—Ç–æ–±—ã –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –¥–≤–∏–∂–µ–Ω–∏—è –∑–≤—É–∫ –±—ã–ª —Å—Ä–∞–∑—É
            _stepTimer = 0;
        }
    }

    private void PlayRandomFootstep()
    {
        if (footstepSounds.Length == 0) return;

        // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∑–≤—É–∫ –∏–∑ –º–∞—Å—Å–∏–≤–∞ –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
        int index = Random.Range(0, footstepSounds.Length);

        // –ò–∑–º–µ–Ω—è–µ–º –≤—ã—Å–æ—Ç—É —Ç–æ–Ω–∞ (pitch) –Ω–µ–º–Ω–æ–≥–æ, —á—Ç–æ–±—ã –∑–≤—É–∫–∏ –Ω–µ –∫–∞–∑–∞–ª–∏—Å—å —Ä–æ–±–æ—Ç–æ–ø–æ–¥–æ–±–Ω—ã–º–∏
        _audioSource.pitch = Random.Range(0.9f, 1.1f);
        _audioSource.PlayOneShot(footstepSounds[index]);
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\PlayerCuteness.cs
================================================================================

using UnityEngine;

[RequireComponent(typeof(AudioSource))]
[RequireComponent(typeof(PlayerController))] // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ –º—ã –µ–≥–æ –æ—Ç–∫–ª—é—á–∞–µ–º
public class PlayerCuteness : MonoBehaviour
{
    [Header("Cuteness Settings")]
    public float maxCuteness = 100f;
    public float startCuteness = 0f;

    [Header("Gameplay Balance")]
    public float passiveCutenessGain = 1f;

    [Header("Audio")]
    public AudioClip damageSound;   // –ó–≤—É–∫, –∫–æ–≥–¥–∞ –º–∏–ª–æ—Ç–∞ —Ä–∞—Å—Ç–µ—Ç (–ø–æ–ª—É—á–∞–µ–º "—É—Ä–æ–Ω")
    public AudioClip restoreSound;  // –ó–≤—É–∫, –∫–æ–≥–¥–∞ —É–±–∏–≤–∞–µ–º –≤—Ä–∞–≥–∞ (–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±—Ä—É—Ç–∞–ª—å–Ω–æ—Å—Ç—å)
    public AudioClip gameOverSound; // –ó–≤—É–∫ –ø—Ä–æ–∏–≥—Ä—ã—à–∞

    public float CurrentCuteness { get; private set; }

    private bool _isGameOver = false;
    private AudioSource _audioSource;

    void Awake()
    {
        _audioSource = GetComponent<AudioSource>();
    }

    void Start()
    {
        CurrentCuteness = startCuteness;
    }

    void OnEnable()
    {
        EnemyHealth.OnEnemyDied += OnEnemyKilled;
    }

    void OnDisable()
    {
        EnemyHealth.OnEnemyDied -= OnEnemyKilled;
    }

    void Update()
    {
        if (_isGameOver) return;
        AddCuteness(passiveCutenessGain * Time.deltaTime, isPassive: true);
    }

    private void OnEnemyKilled(float brutailityRestoreAmount)
    {
        if (_isGameOver) return;

        RemoveCuteness(brutailityRestoreAmount);

        // –ó–≤—É–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (–ø—Ä–∏—è—Ç–Ω—ã–π –∑–≤—É–∫)
        if (restoreSound != null)
        {
            _audioSource.PlayOneShot(restoreSound);
        }
    }

    // –î–æ–±–∞–≤–∏–ª –ø–∞—Ä–∞–º–µ—Ç—Ä isPassive, —á—Ç–æ–±—ã –∑–≤—É–∫ –Ω–µ —Å–ø–∞–º–∏–ª –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –æ—Ç –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –ø—Ä–∏—Ä–æ—Å—Ç–∞
    public void AddCuteness(float amount, bool isPassive = false)
    {
        if (_isGameOver) return;

        CurrentCuteness += amount;
        CurrentCuteness = Mathf.Clamp(CurrentCuteness, 0, maxCuteness);

        // –ò–≥—Ä–∞–µ–º –∑–≤—É–∫ "—É—Ä–æ–Ω–∞" (–ø–æ–ª—É—á–µ–Ω–∏—è –º–∏–ª–æ—Ç—ã) —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–∞—Å—Å–∏–≤–Ω–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ
        if (!isPassive && damageSound != null && amount > 0)
        {
            _audioSource.PlayOneShot(damageSound);
        }

        CheckGameOver();
    }

    public void RemoveCuteness(float amount)
    {
        if (_isGameOver) return;

        CurrentCuteness -= amount;
        CurrentCuteness = Mathf.Clamp(CurrentCuteness, 0, maxCuteness);
    }

    public float GetCutenessNormalized()
    {
        return CurrentCuteness / maxCuteness;
    }

    private void CheckGameOver()
    {
        if (CurrentCuteness >= maxCuteness)
        {
            TriggerGameOver();
        }
    }

    private void TriggerGameOver()
    {
        _isGameOver = true;
        Debug.Log("GAME OVER: –í—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏—Å—å –≤ –∑–∞–π—á–∏–∫–∞! –°–ª–∏—à–∫–æ–º –º–∏–ª–æ!");

        // –ó–≤—É–∫ –ø—Ä–æ–∏–≥—Ä—ã—à–∞
        if (gameOverSound != null)
        {
            _audioSource.PlayOneShot(gameOverSound);
        }

        GetComponent<PlayerController>().enabled = false;

        // –°–æ–≤–µ—Ç: –ó–¥–µ—Å—å –ª—É—á—à–µ –≤—ã–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É —É—Ä–æ–≤–Ω—è –∏–ª–∏ –ø—Ä–∏–≥–ª—É—à–∏—Ç—å –µ—ë, 
        // –Ω–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É.
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\PlayerHealth.cs
================================================================================

using UnityEngine;

public class PlayerHealth : MonoBehaviour
{
    [Header("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è")]
    public float maxHealth = 100f;
    public float currentHealth;
    
    [Header("–°—Å—ã–ª–∫–∏")]
    public HUD hud;
    
    private void Start()
    {
        currentHealth = maxHealth;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º HUD –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
        if (hud != null)
        {
            hud.Initialize(maxHealth);
            hud.UpdateHealth(currentHealth);
        }
    }
    
    public void TakeDamage(float damage)
    {
        currentHealth -= damage;
        currentHealth = Mathf.Clamp(currentHealth, 0, maxHealth);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º HUD
        if (hud != null)
        {
            hud.UpdateHealth(currentHealth);
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–º–µ—Ä—Ç—å
        if (currentHealth <= 0)
        {
            Die();
        }
    }
    
    public void Heal(float amount)
    {
        currentHealth += amount;
        currentHealth = Mathf.Clamp(currentHealth, 0, maxHealth);
        
        if (hud != null)
        {
            hud.UpdateHealth(currentHealth);
        }
    }
    
    private void Die()
    {
        Debug.Log("–ò–≥—Ä–æ–∫ —É–º–µ—Ä!");
        // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å Game Over –º–µ–Ω—é –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —É—Ä–æ–≤–Ω—è
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\PlayerShooting.cs
================================================================================

using UnityEngine;
using UnityEngine.InputSystem;
using System.Collections; // –ù—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã Coroutines (IEnumerator)

public class PlayerShooting : MonoBehaviour
{
    [Header("References")]
    public GameObject bulletPrefab;
    public Transform firePoint;

    [Header("Weapon Stats")]
    public float damage = 2f;
    public float bulletSpeed = 20f;
    public float fireRate = 0.2f;
    public float spreadAngle = 5f;

    [Header("Ammo Settings")]
    public int maxMagazineSize = 10;   // –ï–º–∫–æ—Å—Ç—å –º–∞–≥–∞–∑–∏–Ω–∞
    public int maxTotalAmmo = 60;      // –ú–∞–∫—Å–∏–º—É–º –ø–∞—Ç—Ä–æ–Ω–æ–≤ –≤ –∑–∞–ø–∞—Å–µ
    public int startTotalAmmo = 30;    // –°—Ç–∞—Ä—Ç–æ–≤—ã–π –∑–∞–ø–∞—Å
    public float reloadTime = 1.5f;    // –í—Ä–µ–º—è –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö

    [Header("Audio")]
    public AudioClip shootSound;
    public AudioClip reloadSound;      // –ó–≤—É–∫ –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏
    public AudioClip emptyClickSound;  // –ó–≤—É–∫, –∫–æ–≥–¥–∞ —Å–æ–≤—Å–µ–º –Ω–µ—Ç –ø–∞—Ç—Ä–æ–Ω–æ–≤
    private AudioSource _audioSource;

    // –ü—É–±–ª–∏—á–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è UI
    public int CurrentClip { get; private set; }
    public int CurrentTotalAmmo { get; private set; }
    public bool IsReloading { get; private set; } // –ß—Ç–æ–±—ã UI –º–æ–≥ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–æ—Å–∫—É –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏

    private float _nextFireTime = 0f;

    void Awake()
    {
        _audioSource = GetComponent<AudioSource>();
        if (_audioSource == null)
            _audioSource = gameObject.AddComponent<AudioSource>();
    }

    void Start()
    {
        CurrentClip = maxMagazineSize;
        CurrentTotalAmmo = startTotalAmmo;
        UpdateAmmoDebug();
    }

    void Update()
    {
        // –ï—Å–ª–∏ –º—ã —É–∂–µ –ø–µ—Ä–µ–∑–∞—Ä—è–∂–∞–µ–º—Å—è, –±–ª–æ–∫–∏—Ä—É–µ–º –ª—é–±–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä—É–∂–∏–µ–º
        if (IsReloading) return;

        // --- –†—É—á–Ω–∞—è –ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞ (–ö–Ω–æ–ø–∫–∞ R) ---
        if (Keyboard.current != null && Keyboard.current.rKey.wasPressedThisFrame)
        {
            StartReload();
            return;
        }

        // --- –°—Ç—Ä–µ–ª—å–±–∞ (–õ–ö–ú) ---
        if (Mouse.current != null && Mouse.current.leftButton.isPressed)
        {
            if (Time.time >= _nextFireTime)
            {
                TryShoot();
                _nextFireTime = Time.time + fireRate;
            }
        }
    }

    private void TryShoot()
    {
        // 1. –ï—Å–ª–∏ –º–∞–≥–∞–∑–∏–Ω –ø—É—Å—Ç
        if (CurrentClip <= 0)
        {
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞, –µ—Å–ª–∏ –µ—Å—Ç—å –ø–∞—Ç—Ä–æ–Ω—ã –≤ –∑–∞–ø–∞—Å–µ
            if (CurrentTotalAmmo > 0)
            {
                StartReload();
            }
            else
            {
                // –ï—Å–ª–∏ –∏ –≤ –∑–∞–ø–∞—Å–µ –ø—É—Å—Ç–æ ‚Äî –ø—Ä–æ—Å—Ç–æ —â–µ–ª–∫–∞–µ–º
                PlaySound(emptyClickSound);
            }
            return;
        }

        // 2. –ï—Å–ª–∏ –ø–∞—Ç—Ä–æ–Ω—ã –µ—Å—Ç—å ‚Äî —Å—Ç—Ä–µ–ª—è–µ–º
        Shoot();
    }

    private void Shoot()
    {
        if (bulletPrefab == null || firePoint == null) return;

        // –†–∞—Å—á–µ—Ç —Ä–∞–∑–±—Ä–æ—Å–∞
        float randomSpread = Random.Range(-spreadAngle, spreadAngle);
        Quaternion spreadRotation = Quaternion.Euler(0, 0, randomSpread);
        Quaternion finalRotation = firePoint.rotation * spreadRotation;

        GameObject bulletObj = Instantiate(bulletPrefab, firePoint.position, finalRotation);

        Projectile projectile = bulletObj.GetComponent<Projectile>();
        if (projectile != null)
        {
            projectile.speed = bulletSpeed;
            projectile.damage = damage;
        }

        CurrentClip--;

        PlaySound(shootSound, randomizePitch: true);

        // –õ–æ–≥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        if (CurrentClip == 0) Debug.Log("–ú–∞–≥–∞–∑–∏–Ω –ø—É—Å—Ç!");
    }

    // –ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–∑–≤–∞—Ç—å –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É –∏–∑–≤–Ω–µ (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)
    public void StartReload()
    {
        // –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º:
        if (IsReloading) return; // –£–∂–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
        if (CurrentClip == maxMagazineSize) return; // –ú–∞–≥–∞–∑–∏–Ω –ø–æ–ª–æ–Ω
        if (CurrentTotalAmmo <= 0) return; // –ù–µ—á–µ–º –∑–∞—Ä—è–∂–∞—Ç—å

        // –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ—Ä—É—Ç–∏–Ω—É (–ø—Ä–æ—Ü–µ—Å—Å, —Ä–∞—Å—Ç—è–Ω—É—Ç—ã–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏)
        StartCoroutine(ReloadRoutine());
    }

    private IEnumerator ReloadRoutine()
    {
        IsReloading = true;
        Debug.Log("–ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞...");

        PlaySound(reloadSound);

        // –ñ–¥–µ–º —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è (reloadTime)
        yield return new WaitForSeconds(reloadTime);

        // --- –õ–æ–≥–∏–∫–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ–∂–∏–¥–∞–Ω–∏—è ---

        int ammoNeeded = maxMagazineSize - CurrentClip;
        int ammoToReload = Mathf.Min(ammoNeeded, CurrentTotalAmmo);

        CurrentClip += ammoToReload;
        CurrentTotalAmmo -= ammoToReload;

        IsReloading = false;
        Debug.Log("–ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!");
        UpdateAmmoDebug();
    }

    public void AddAmmo(int amount)
    {
        CurrentTotalAmmo += amount;
        if (CurrentTotalAmmo > maxTotalAmmo)
        {
            CurrentTotalAmmo = maxTotalAmmo;
        }
        Debug.Log($"–ü–æ–¥–æ–±—Ä–∞–Ω—ã –ø–∞—Ç—Ä–æ–Ω—ã: +{amount}. –í—Å–µ–≥–æ: {CurrentTotalAmmo}");

        // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –µ—Å–ª–∏ –º–∞–≥–∞–∑–∏–Ω –±—ã–ª –ø—É—Å—Ç –∏ –º—ã –ø–æ–¥–æ–±—Ä–∞–ª–∏ –ø–∞—Ç—Ä–æ–Ω—ã, –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∞—Ç—å –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É
        if (CurrentClip == 0)
        {
            StartReload();
        }
    }

    private void UpdateAmmoDebug()
    {
        Debug.Log($"Ammo: {CurrentClip} / {CurrentTotalAmmo}");
    }

    private void PlaySound(AudioClip clip, bool randomizePitch = false)
    {
        if (clip != null && _audioSource != null)
        {
            _audioSource.pitch = randomizePitch ? Random.Range(0.9f, 1.1f) : 1f;
            _audioSource.PlayOneShot(clip);
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\Projectile.cs
================================================================================

using UnityEngine;

[RequireComponent(typeof(Rigidbody2D))]
[RequireComponent(typeof(Collider2D))]
public class Projectile : MonoBehaviour
{
    [HideInInspector] public float speed;   // ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
    [HideInInspector] public float damage;  // ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ

    private Rigidbody2D _rb;
    private float _lifetime = 5f; // ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ: ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ 5 ÔøΩÔøΩÔøΩ, ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩ ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ

    void Awake()
    {
        _rb = GetComponent<Rigidbody2D>();
    }

    void Start()
    {
        // ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ "ÔøΩÔøΩÔøΩÔøΩÔøΩ" ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ
        // (ÔøΩ 2D "ÔøΩÔøΩÔøΩÔøΩ" ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ)
        _rb.linearVelocity = transform.up * speed;

        // ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ, ÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ
        Destroy(gameObject, _lifetime);
    }

    void OnTriggerEnter2D(Collider2D collision)
    {
        // ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ, ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ (ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ EnemyHealth)
        EnemyHealth enemy = collision.GetComponent<EnemyHealth>();

        if (enemy != null)
        {
            enemy.TakeDamage(damage);
            Destroy(gameObject); // ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
        }
        else if (!collision.CompareTag("Player") && !collision.isTrigger)
        {
            // ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ, ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ (ÔøΩÔøΩ ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ ÔøΩÔøΩ ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ)
            Destroy(gameObject);
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\WaveManager.cs
================================================================================

using UnityEngine;
using System.Collections;
using System.Collections.Generic;
using System.Linq; // –ù—É–∂–µ–Ω –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ø–∏—Å–∫–∞–º–∏

public class WaveManager : MonoBehaviour
{
    [Header("Spawn Settings")]
    [Tooltip("–í—Å–µ —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ, –≥–¥–µ –º–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤—Ä–∞–≥–∏")]
    public List<Transform> allSpawnPoints;

    [Tooltip("–°–∫–æ–ª—å–∫–æ —Å–ø–∞–≤–Ω–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –æ–¥–Ω–æ–π –≤–æ–ª–Ω–µ? (0 = –≤—Å–µ —Å—Ä–∞–∑—É)")]
    public int activeSpawnersCount = 3;
    public bool randomizeSpawnersEveryWave = true;

    [Header("Wave Progression")]
    [Tooltip("–ú–Ω–æ–∂–∏—Ç–µ–ª—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—Ä–∞–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–ª–µ–¥—É—é—â–µ–π –≤–æ–ª–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1.2 = +20%)")]
    public float countMultiplier = 1.2f;
    [Tooltip("–í—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞ –º–µ–∂–¥—É –≤–æ–ª–Ω–∞–º–∏ (—Å–µ–∫)")]
    public float timeBetweenWaves = 5f;
    [Tooltip("–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –≤—Ä–∞–≥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –≤–æ–ª–Ω—ã (—Å–µ–∫)")]
    public float spawnRate = 1f;

    [Header("Enemies Configuration")]
    public List<EnemyWaveConfig> enemyConfigs;

    // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
    private int _currentWaveIndex = 0;
    private int _enemiesAlive = 0;
    private bool _isSpawning = false;
    private bool _waitingForNextWave = false;

    // –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ—á–µ–∫ –¥–ª—è —Ç–µ–∫—É—â–µ–π –≤–æ–ª–Ω—ã
    private List<Transform> _currentWaveSpawners;

    void Start()
    {
        if (allSpawnPoints == null || allSpawnPoints.Count == 0)
        {
            Debug.LogError("WaveManager: –ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã —Ç–æ—á–∫–∏ —Å–ø–∞–≤–Ω–∞ (Spawn Points)!");
            enabled = false;
            return;
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—É—é –≤–æ–ª–Ω—É
        StartCoroutine(StartNextWave());
    }

    void OnEnable()
    {
        // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ —Å–º–µ—Ä—Ç–∏ –∏–∑ —Ç–≤–æ–µ–≥–æ EnemyHealth
        EnemyHealth.OnEnemyDied += OnEnemyKilled;
    }

    void OnDisable()
    {
        EnemyHealth.OnEnemyDied -= OnEnemyKilled;
    }

    private void OnEnemyKilled(float unusedFloat)
    {
        // –£–º–µ–Ω—å—à–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –∂–∏–≤—ã—Ö –≤—Ä–∞–≥–æ–≤
        if (_enemiesAlive > 0)
        {
            _enemiesAlive--;
        }

        // –ï—Å–ª–∏ –≤—Ä–∞–≥–∏ –∫–æ–Ω—á–∏–ª–∏—Å—å –∏ –º—ã –Ω–µ —Å–ø–∞–≤–Ω–∏–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å -> –≥–æ—Ç–æ–≤–∏–º —Å–ª–µ–¥—É—é—â—É—é –≤–æ–ª–Ω—É
        if (_enemiesAlive <= 0 && !_isSpawning && !_waitingForNextWave)
        {
            StartCoroutine(StartNextWave());
        }
    }

    private IEnumerator StartNextWave()
    {
        _waitingForNextWave = true;
        _currentWaveIndex++;

        Debug.Log($"--- –í–û–õ–ù–ê {_currentWaveIndex} –ù–ê–ß–ù–ï–¢–°–Ø –ß–ï–†–ï–ó {timeBetweenWaves} –°–ï–ö ---");

        // –ñ–¥–µ–º –ø–µ—Ä–µ—Ä—ã–≤–∞ –ø–µ—Ä–µ–¥ –≤–æ–ª–Ω–æ–π
        yield return new WaitForSeconds(timeBetweenWaves);

        _waitingForNextWave = false;
        StartCoroutine(SpawnWaveRoutine());
    }

    private IEnumerator SpawnWaveRoutine()
    {
        _isSpawning = true;

        // 1. –í—ã–±–∏—Ä–∞–µ–º —Å–ø–∞–≤–Ω–µ—Ä—ã –¥–ª—è —ç—Ç–æ–π –≤–æ–ª–Ω—ã
        SelectActiveSpawners();

        // 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤—Ä–∞–≥–æ–≤ –Ω–∞ —ç—Ç—É –≤–æ–ª–Ω—É (–æ—á–µ—Ä–µ–¥—å —Å–ø–∞–≤–Ω–∞)
        List<GameObject> spawnQueue = GenerateSpawnQueue();

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–≤—ã—Ö –≤—Ä–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –∏–≥—Ä–æ–∫—É –Ω—É–∂–Ω–æ –ø–æ–±–µ–¥–∏—Ç—å
        _enemiesAlive = spawnQueue.Count;

        Debug.Log($"–í–æ–ª–Ω–∞ {_currentWaveIndex}: –í—Ä–∞–≥–æ–≤ {_enemiesAlive}. –ê–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ—á–µ–∫: {_currentWaveSpawners.Count}");

        // 3. –°–ø–∞–≤–Ω–∏–º –≤—Ä–∞–≥–æ–≤ –∏–∑ –æ—á–µ—Ä–µ–¥–∏
        foreach (GameObject enemyPrefab in spawnQueue)
        {
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Ç–æ—á–∫—É –∏–∑ –ê–ö–¢–ò–í–ù–´–• —Å–ø–∞–≤–Ω–µ—Ä–æ–≤
            Transform spawnPoint = GetRandomActiveSpawner();

            if (spawnPoint != null)
            {
                Instantiate(enemyPrefab, spawnPoint.position, Quaternion.identity);
            }

            // –ñ–¥–µ–º –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º —Å–ø–∞–≤–Ω–æ–º
            yield return new WaitForSeconds(spawnRate);
        }

        _isSpawning = false;
    }

    // –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Å–ø–∞–≤–Ω–µ—Ä–æ–≤
    private void SelectActiveSpawners()
    {
        // –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –∏–ª–∏ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ —á–µ–º –µ—Å—Ç—å —Ç–æ—á–µ–∫ -> –±–µ—Ä–µ–º –≤—Å–µ
        if (!randomizeSpawnersEveryWave || activeSpawnersCount <= 0 || activeSpawnersCount >= allSpawnPoints.Count)
        {
            _currentWaveSpawners = new List<Transform>(allSpawnPoints);
        }
        else
        {
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ—á–µ–∫ –∏ –±–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ N —à—Ç—É–∫
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º System.Random –∏–ª–∏ Unity Random –¥–ª—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è
            _currentWaveSpawners = allSpawnPoints.OrderBy(x => Random.value).Take(activeSpawnersCount).ToList();
        }
    }

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –≤—Ä–∞–≥–æ–≤ —Å —É—á–µ—Ç–æ–º –∞–≤—Ç–æ–ª–µ–≤–µ–ª–∏–Ω–≥–∞
    private List<GameObject> GenerateSpawnQueue()
    {
        List<GameObject> queue = new List<GameObject>();

        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å: Multiplier ^ (Wave - 1)
        // –ü—Ä–∏–º–µ—Ä: 1.2 ^ 0 = 1; 1.2 ^ 1 = 1.2; 1.2 ^ 2 = 1.44...
        float currentMultiplier = Mathf.Pow(countMultiplier, _currentWaveIndex - 1);

        foreach (var config in enemyConfigs)
        {
            // –ë–∞–∑–æ–≤–æ–µ –∫–æ–ª-–≤–æ * –º–Ω–æ–∂–∏—Ç–µ–ª—å
            int countToSpawn = Mathf.RoundToInt(config.baseCount * currentMultiplier);

            for (int i = 0; i < countToSpawn; i++)
            {
                queue.Add(config.enemyPrefab);
            }
        }

        // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –æ—á–µ—Ä–µ–¥—å, —á—Ç–æ–±—ã –≤—Ä–∞–≥–∏ —à–ª–∏ –≤—Ä–∞–∑–Ω–æ–±–æ–π (–∞–ª–≥–æ—Ä–∏—Ç–º –§–∏—à–µ—Ä–∞-–ô–µ–π—Ç—Å–∞ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
        for (int i = 0; i < queue.Count; i++)
        {
            GameObject temp = queue[i];
            int randomIndex = Random.Range(i, queue.Count);
            queue[i] = queue[randomIndex];
            queue[randomIndex] = temp;
        }

        return queue;
    }

    private Transform GetRandomActiveSpawner()
    {
        if (_currentWaveSpawners.Count == 0) return null;
        return _currentWaveSpawners[Random.Range(0, _currentWaveSpawners.Count)];
    }
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ
[System.Serializable]
public class EnemyWaveConfig
{
    public string name = "Enemy Type"; // –ü—Ä–æ—Å—Ç–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ
    public GameObject enemyPrefab;
    public int baseCount = 5; // –°–∫–æ–ª—å–∫–æ —à—Ç—É–∫ —Å–ø–∞–≤–Ω–∏—Ç—å –Ω–∞ 1-–π –≤–æ–ª–Ω–µ
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\UI\HUD.cs
================================================================================

using UnityEngine;
using UnityEngine.UI;

public class HUD : MonoBehaviour
{
    [Header("–ó–¥–æ—Ä–æ–≤—å–µ")]
    public Slider healthSlider;
    public Image healthFill;
    public Gradient healthGradient;
    
    [Header("–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")]
    public Text scoreText;
    public Text ammoText;
    public Text waveText;
    
    [Header("–ê–Ω–∏–º–∞—Ü–∏—è —É—Ä–æ–Ω–∞")]
    public Animator damageAnimator;
    
    private float maxHealth = 100f;
    private float currentHealth = 100f;
    
    public void Initialize(float maxHealthValue)
    {
        maxHealth = maxHealthValue;
        currentHealth = maxHealthValue;
        
        if (healthSlider != null)
        {
            healthSlider.maxValue = maxHealth;
            healthSlider.value = currentHealth;
            UpdateHealthColor();
        }
    }
    
    public void UpdateHealth(float newHealth)
    {
        currentHealth = Mathf.Clamp(newHealth, 0, maxHealth);
        
        if (healthSlider != null)
        {
            healthSlider.value = currentHealth;
            UpdateHealthColor();
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
        if (damageAnimator != null && newHealth < currentHealth)
        {
            damageAnimator.SetTrigger("TakeDamage");
        }
    }
    
    private void UpdateHealthColor()
    {
        if (healthFill != null && healthGradient != null)
        {
            float healthPercentage = currentHealth / maxHealth;
            healthFill.color = healthGradient.Evaluate(healthPercentage);
        }
    }
    
    public void TakeDamage(float damageAmount)
    {
        float newHealth = currentHealth - damageAmount;
        UpdateHealth(newHealth);
    }
    
    public void Show()
    {
        gameObject.SetActive(true);
    }
    
    public void Hide()
    {
        gameObject.SetActive(false);
    }
    
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è HUD
    public void UpdateScore(int score)
    {
        if (scoreText != null)
        {
            scoreText.text = $"–û—á–∫–∏: {score}";
        }
    }
    
    public void UpdateAmmo(int currentAmmo, int maxAmmo)
    {
        if (ammoText != null)
        {
            ammoText.text = $"–ü–∞—Ç—Ä–æ–Ω—ã: {currentAmmo}/{maxAmmo}";
        }
    }
    
    public void UpdateWave(int waveNumber)
    {
        if (waveText != null)
        {
            waveText.text = $"–í–æ–ª–Ω–∞: {waveNumber}";
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\UI\MainMenu.cs
================================================================================

using UnityEngine;
using UnityEngine.UI;

public class MainMenu : MonoBehaviour
{
    [Header("–°—Å—ã–ª–∫–∏ –Ω–∞ UI")]
    public CanvasGroup mainMenuPanel;
    public Button playButton;
    public Button settingsButton;
    public Button exitButton;
    
    [Header("–ù–∞—Å—Ç—Ä–æ–π–∫–∏")]
    public SettingsMenu settingsMenu;
    
    private void Start()
    {
        InitializeButtons();
        Show();
    }
    
    private void InitializeButtons()
    {
        // –ö–Ω–æ–ø–∫–∞ "–ò–≥—Ä–∞—Ç—å"
        if (playButton != null)
        {
            playButton.onClick.RemoveAllListeners();
            playButton.onClick.AddListener(() =>
            {
                PlaySound();
                PlayGame();
            });
        }
        
        // –ö–Ω–æ–ø–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
        if (settingsButton != null)
        {
            settingsButton.onClick.RemoveAllListeners();
            settingsButton.onClick.AddListener(() =>
            {
                PlaySound();
                ShowSettings();
            });
        }
        
        // –ö–Ω–æ–ø–∫–∞ "–í—ã—Ö–æ–¥"
        if (exitButton != null)
        {
            exitButton.onClick.RemoveAllListeners();
            exitButton.onClick.AddListener(() =>
            {
                PlaySound();
                ExitGame();
            });
        }
    }
    
    public void PlayGame()
    {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º SceneLoader –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
        if (SceneLoader.Instance != null)
        {
            SceneLoader.Instance.LoadScene("GameScene");
        }
        else
        {
            // –ï—Å–ª–∏ SceneLoader –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
            UnityEngine.SceneManagement.SceneManager.LoadScene("GameScene");
        }
    }
    
    public void ShowSettings()
    {
        Hide();
        if (settingsMenu != null)
        {
            settingsMenu.Show();
        }
    }
    
    public void Show()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.ShowCanvasGroup(mainMenuPanel);
        }
        else if (mainMenuPanel != null)
        {
            mainMenuPanel.alpha = 1;
            mainMenuPanel.interactable = true;
            mainMenuPanel.blocksRaycasts = true;
        }
    }
    
    public void Hide()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.HideCanvasGroup(mainMenuPanel);
        }
        else if (mainMenuPanel != null)
        {
            mainMenuPanel.alpha = 0;
            mainMenuPanel.interactable = false;
            mainMenuPanel.blocksRaycasts = false;
        }
    }
    
    private void PlaySound()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.PlaySound(UIManager.Instance.buttonClickSound);
        }
    }
    
    private void ExitGame()
    {
        if (SceneLoader.Instance != null)
        {
            SceneLoader.Instance.QuitGame();
        }
        else
        {
            #if UNITY_EDITOR
            UnityEditor.EditorApplication.isPlaying = false;
            #else
            Application.Quit();
            #endif
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\UI\PauseMenu.cs
================================================================================

using UnityEngine;
using UnityEngine.UI;

public class PauseMenu : MonoBehaviour
{
    [Header("–°—Å—ã–ª–∫–∏ –Ω–∞ UI")]
    public CanvasGroup pauseMenuPanel;
    public Button resumeButton;
    public Button settingsButton;
    public Button mainMenuButton;
    
    [Header("–ù–∞—Å—Ç—Ä–æ–π–∫–∏")]
    public SettingsMenu settingsMenu;
    
    private bool isPaused = false;
    
    private void Start()
    {
        InitializeButtons();
        Hide();
    }
    
    private void InitializeButtons()
    {
        // –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
        if (resumeButton != null)
        {
            resumeButton.onClick.RemoveAllListeners();
            resumeButton.onClick.AddListener(() =>
            {
                PlaySound();
                ResumeGame();
            });
        }
        
        // –ö–Ω–æ–ø–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
        if (settingsButton != null)
        {
            settingsButton.onClick.RemoveAllListeners();
            settingsButton.onClick.AddListener(() =>
            {
                PlaySound();
                ShowSettings();
            });
        }
        
        // –ö–Ω–æ–ø–∫–∞ "–í—ã—Ö–æ–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
        if (mainMenuButton != null)
        {
            mainMenuButton.onClick.RemoveAllListeners();
            mainMenuButton.onClick.AddListener(() =>
            {
                PlaySound();
                ReturnToMainMenu();
            });
        }
    }
    
    private void Update()
    {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ ESC —Ç–æ–ª—å–∫–æ –≤ –∏–≥—Ä–æ–≤–æ–π —Å—Ü–µ–Ω–µ
        if (Input.GetKeyDown(KeyCode.Escape))
        {
            TogglePause();
        }
    }
    
    private void TogglePause()
    {
        if (isPaused)
        {
            ResumeGame();
        }
        else
        {
            Show();
        }
    }
    
    public void Show()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.ShowCanvasGroup(pauseMenuPanel);
            UIManager.Instance.PlaySound(UIManager.Instance.menuOpenSound);
        }
        else if (pauseMenuPanel != null)
        {
            pauseMenuPanel.alpha = 1;
            pauseMenuPanel.interactable = true;
            pauseMenuPanel.blocksRaycasts = true;
        }
        
        PauseGame();
    }
    
    public void Hide()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.HideCanvasGroup(pauseMenuPanel);
            UIManager.Instance.PlaySound(UIManager.Instance.menuCloseSound);
        }
        else if (pauseMenuPanel != null)
        {
            pauseMenuPanel.alpha = 0;
            pauseMenuPanel.interactable = false;
            pauseMenuPanel.blocksRaycasts = false;
        }
        
        ResumeGameTime();
    }
    
    public void ResumeGame()
    {
        Hide();
    }
    
    public void ShowSettings()
    {
        Hide();
        if (settingsMenu != null)
        {
            settingsMenu.Show();
        }
    }
    
    private void ReturnToMainMenu()
    {
        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–∞—É–∑—É
        ResumeGameTime();
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ–Ω—é
        if (SceneLoader.Instance != null)
        {
            SceneLoader.Instance.LoadScene("MenuScene");
        }
        else
        {
            UnityEngine.SceneManagement.SceneManager.LoadScene("MenuScene");
        }
    }
    
    private void PauseGame()
    {
        Time.timeScale = 0f;
        isPaused = true;
    }
    
    private void ResumeGameTime()
    {
        Time.timeScale = 1f;
        isPaused = false;
    }
    
    private void PlaySound()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.PlaySound(UIManager.Instance.buttonClickSound);
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\UI\SceneLoader.cs
================================================================================

using UnityEngine;
using UnityEngine.SceneManagement;
using UnityEngine.UI;

public class SceneLoader : MonoBehaviour
{
    public static SceneLoader Instance { get; private set; }
    
    [Header("–ó–∞–≥—Ä—É–∑–∫–∞")]
    public GameObject loadingScreen;
    public Slider loadingSlider;
    public Text loadingText;
    
    private void Awake()
    {
        if (Instance == null)
        {
            Instance = this;
            DontDestroyOnLoad(gameObject);
        }
        else
        {
            Destroy(gameObject);
        }
    }
    
    public void LoadScene(string sceneName)
    {
        StartCoroutine(LoadSceneAsync(sceneName));
    }
    
    private System.Collections.IEnumerator LoadSceneAsync(string sceneName)
    {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏
        if (loadingScreen != null)
        {
            loadingScreen.SetActive(true);
        }
        
        AsyncOperation operation = SceneManager.LoadSceneAsync(sceneName);
        operation.allowSceneActivation = false;
        
        while (!operation.isDone)
        {
            float progress = Mathf.Clamp01(operation.progress / 0.9f);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI –∑–∞–≥—Ä—É–∑–∫–∏
            if (loadingSlider != null)
            {
                loadingSlider.value = progress;
            }
            
            if (loadingText != null)
            {
                loadingText.text = $"–ó–∞–≥—Ä—É–∑–∫–∞... {progress * 100:F0}%";
            }
            
            if (operation.progress >= 0.9f)
            {
                // –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º
                yield return new WaitForSeconds(0.5f);
                operation.allowSceneActivation = true;
            }
            
            yield return null;
        }
        
        // –°–∫—Ä—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏
        if (loadingScreen != null)
        {
            loadingScreen.SetActive(false);
        }
    }
    
    public void QuitGame()
    {
        #if UNITY_EDITOR
        UnityEditor.EditorApplication.isPlaying = false;
        #else
        Application.Quit();
        #endif
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\UI\SettingsMenu.cs
================================================================================

using UnityEngine;
using UnityEngine.UI;

public class SettingsMenu : MonoBehaviour
{
    [Header("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã")]
    public CanvasGroup settingsPanel;
    public Slider volumeSlider;
    public Button backButton;
    public Toggle fullscreenToggle;
    
    private void Start()
    {
        InitializeComponents();
        LoadSettings();
        Hide(); // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    }
    
    private void InitializeComponents()
    {
        // –°–ª–∞–π–¥–µ—Ä –≥—Ä–æ–º–∫–æ—Å—Ç–∏
        if (volumeSlider != null)
        {
            volumeSlider.onValueChanged.AddListener(OnVolumeChanged);
        }
        
        // –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
        if (backButton != null)
        {
            backButton.onClick.RemoveAllListeners();
            backButton.onClick.AddListener(() =>
            {
                PlaySound();
                Hide();
            });
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        if (fullscreenToggle != null)
        {
            fullscreenToggle.onValueChanged.AddListener(OnFullscreenChanged);
        }
    }
    
    public void Show()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.ShowCanvasGroup(settingsPanel);
            UIManager.Instance.PlaySound(UIManager.Instance.menuOpenSound);
        }
        else if (settingsPanel != null)
        {
            settingsPanel.alpha = 1;
            settingsPanel.interactable = true;
            settingsPanel.blocksRaycasts = true;
        }
        
        LoadSettings();
    }
    
    public void Hide()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.HideCanvasGroup(settingsPanel);
            UIManager.Instance.PlaySound(UIManager.Instance.menuCloseSound);
        }
        else if (settingsPanel != null)
        {
            settingsPanel.alpha = 0;
            settingsPanel.interactable = false;
            settingsPanel.blocksRaycasts = false;
        }
        
        SaveSettings();
        
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –º–µ–Ω—é
        ReturnToPreviousMenu();
    }
    
    private void LoadSettings()
    {
        // –ì—Ä–æ–º–∫–æ—Å—Ç—å
        if (volumeSlider != null)
        {
            float volume = PlayerPrefs.GetFloat("MasterVolume", 1f);
            volumeSlider.value = volume;
            ApplyVolume(volume);
        }
        
        // –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
        if (fullscreenToggle != null)
        {
            bool isFullscreen = PlayerPrefs.GetInt("Fullscreen", 1) == 1;
            fullscreenToggle.isOn = isFullscreen;
            Screen.fullScreen = isFullscreen;
        }
    }
    
    private void SaveSettings()
    {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å
        if (volumeSlider != null)
        {
            PlayerPrefs.SetFloat("MasterVolume", volumeSlider.value);
        }
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        if (fullscreenToggle != null)
        {
            PlayerPrefs.SetInt("Fullscreen", fullscreenToggle.isOn ? 1 : 0);
        }
        
        PlayerPrefs.Save();
    }
    
    private void OnVolumeChanged(float volume)
    {
        ApplyVolume(volume);
    }
    
    private void ApplyVolume(float volume)
    {
        AudioListener.volume = volume;
    }
    
    private void OnFullscreenChanged(bool isFullscreen)
    {
        Screen.fullScreen = isFullscreen;
    }
    
    private void ReturnToPreviousMenu()
    {
        // –ù–∞—Ö–æ–¥–∏–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏–ª–∏ –º–µ–Ω—é –ø–∞—É–∑—ã –≤ —Å—Ü–µ–Ω–µ
        MainMenu mainMenu = FindObjectOfType<MainMenu>();
        PauseMenu pauseMenu = FindObjectOfType<PauseMenu>();
        
        if (mainMenu != null)
        {
            mainMenu.Show();
        }
        else if (pauseMenu != null)
        {
            pauseMenu.Show();
        }
    }
    
    private void PlaySound()
    {
        if (UIManager.Instance != null)
        {
            UIManager.Instance.PlaySound(UIManager.Instance.buttonClickSound);
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\UI\UIManager.cs
================================================================================

using UnityEngine;

public class UIManager : MonoBehaviour
{
    public static UIManager Instance { get; private set; }
    
    [Header("–ê—É–¥–∏–æ")]
    public AudioSource uiAudioSource;
    public AudioClip buttonClickSound;
    public AudioClip menuOpenSound;
    public AudioClip menuCloseSound;
    
    private void Awake()
    {
        if (Instance == null)
        {
            Instance = this;
            // –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ–º DontDestroyOnLoad - —É –∫–∞–∂–¥–æ–π —Å—Ü–µ–Ω—ã —Å–≤–æ–π UIManager
        }
    }
    
    public void PlaySound(AudioClip clip)
    {
        if (uiAudioSource != null && clip != null)
        {
            uiAudioSource.PlayOneShot(clip);
        }
    }
    
    // –û–±—â–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö –º–µ–Ω—é
    public void ShowCanvasGroup(CanvasGroup canvasGroup)
    {
        if (canvasGroup != null)
        {
            canvasGroup.alpha = 1;
            canvasGroup.interactable = true;
            canvasGroup.blocksRaycasts = true;
        }
    }
    
    public void HideCanvasGroup(CanvasGroup canvasGroup)
    {
        if (canvasGroup != null)
        {
            canvasGroup.alpha = 0;
            canvasGroup.interactable = false;
            canvasGroup.blocksRaycasts = false;
        }
    }
}

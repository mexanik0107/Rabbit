
--- –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –ò–ò ---

–†–û–õ–¨ –ò–ò: –û–ø—ã—Ç–Ω—ã–π C# —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏–≥—Ä –Ω–∞ Unity.
  - –í —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–µ –≤–ª–∞–¥–µ–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ SOLID, –û–û–ü –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ECS, –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–Ω–µ–Ω—Ç).
  - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: —Ñ–∏–∑–∏–∫–∞, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (–æ—Å–æ–±–µ–Ω–Ω–æ —Å–ª–æ–∂–Ω—ã–µ, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —É–∑–ª–∞—Ö/—Ñ–∏–∑–∏–∫–µ), –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞.
  - –¶–µ–ª—å: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ—á–Ω—ã–π, —á–∏—Å—Ç—ã–π –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π C# –∫–æ–¥, –æ–±—ä—è—Å–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, –¥–∞–≤–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –ø–æ–º–æ–≥–∞—Ç—å –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏—Ö –∏–¥–µ–π.

–†–û–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø: –ù–∞—á–∏–Ω–∞—é—â–∏–π –≥–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä.
  - –ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏, –ø–æ—á–µ–º—É –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –∏–º–µ–Ω–Ω–æ —Ç–∞–∫, –∏ –∫–∞–∫ –º–æ–∏ –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.
  - –¶–µ–ª—å: –ü–æ–ª—É—á–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ–¥—É –∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ª—É—á—à–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏.

–ü–†–ê–í–ò–õ–ê –û–¢–í–ï–¢–ê –ò–ò:
1. –í—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –æ–ø—ã—Ç–Ω–æ–≥–æ C# —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∞–¥–∞–ø—Ç–∏—Ä—É—è —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–µ–≥–æ –≥–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä–∞.
2. –ü—Ä–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ, —Å—Å—ã–ª–∞–π—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ SlimeCharacterController –Ω–∞—Ä—É—à–∞–µ—Ç SRP, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–Ω–µ–Ω—Ç").
3. –£–∫–∞–∑—ã–≤–∞–π, –≤ –∫–∞–∫–æ–º —Ñ–∞–π–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–ª–µ–¥—É–µ—Ç –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
4. –ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–∫—Ä–∏–ø—Ç, –ø–∏—à–∏ –∏–∑–º–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—É—é —á–∞—Å—Ç—å.

--- –ö–û–ù–ï–¶ –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø –ò–ò ---

--- START OF FILE all_cs_files.txt ---

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Editor\AudioDashboard.cs
================================================================================

using UnityEngine;
using UnityEditor;

// –≠—Ç–æ—Ç –∫–ª–∞—Å—Å —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ –≤ Unity
public class AudioDashboard : EditorWindow
{
    // –°—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–µ—Ñ–∞–±—ã, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –±—É–¥–µ–º —Ç—è–Ω—É—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    private GameObject _playerPrefab;
    private GameObject _enemyPrefab;

    // –°–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è –æ–∫–Ω–∞, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±—É–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
    private Vector2 _scrollPos;

    // –ü—É–Ω–∫—Ç –º–µ–Ω—é, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–æ
    [MenuItem("Tools/Audio Dashboard üéß")]
    public static void ShowWindow()
    {
        GetWindow<AudioDashboard>("Audio Config");
    }

    void OnGUI()
    {
        // –ö—Ä–∞—Å–∏–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
        GUILayout.Label("–¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤—É–∫–æ–º", EditorStyles.boldLabel);
        EditorGUILayout.Space();

        // –ü–æ–ª—è –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –ø—Ä–µ—Ñ–∞–±–æ–≤
        GUILayout.Label("1. –ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ —Å–≤–æ–∏ –ø—Ä–µ—Ñ–∞–±—ã (–∏–∑ –ø–∞–ø–∫–∏ Project):", EditorStyles.helpBox);
        _playerPrefab = (GameObject)EditorGUILayout.ObjectField("Player Prefab", _playerPrefab, typeof(GameObject), false);
        _enemyPrefab = (GameObject)EditorGUILayout.ObjectField("Enemy Prefab", _enemyPrefab, typeof(GameObject), false);

        EditorGUILayout.Space();
        GUILayout.Label("2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–æ–≤:", EditorStyles.boldLabel);

        // –ù–∞—á–∞–ª–æ –∑–æ–Ω—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        _scrollPos = EditorGUILayout.BeginScrollView(_scrollPos);

        if (_playerPrefab != null)
        {
            DrawPlayerAudioSettings();
        }
        else
        {
            EditorGUILayout.HelpBox("–ù–∞–∑–Ω–∞—á—å Player Prefab, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –µ–≥–æ –∑–≤—É–∫–∏.", MessageType.Info);
        }

        EditorGUILayout.Space();
        DrawLine();
        EditorGUILayout.Space();

        if (_enemyPrefab != null)
        {
            DrawEnemyAudioSettings();
        }
        else
        {
            EditorGUILayout.HelpBox("–ù–∞–∑–Ω–∞—á—å Enemy Prefab, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –µ–≥–æ –∑–≤—É–∫–∏.", MessageType.Info);
        }

        EditorGUILayout.EndScrollView();
    }

    private void DrawPlayerAudioSettings()
    {
        GUILayout.Label($"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ò–≥—Ä–æ–∫–∞ ({_playerPrefab.name})", EditorStyles.boldLabel);

        // --- –ë–ª–æ–∫ 1: PlayerController (–®–∞–≥–∏) ---
        var playerController = _playerPrefab.GetComponent<PlayerController>();
        if (playerController != null)
        {
            // –°–æ–∑–¥–∞–µ–º "–æ–±–µ—Ä—Ç–∫—É" SerializedObject, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Ctrl+Z)
            SerializedObject so = new SerializedObject(playerController);
            so.Update(); // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ

            EditorGUILayout.LabelField("–î–≤–∏–∂–µ–Ω–∏–µ (PlayerController)", EditorStyles.miniBoldLabel);

            // –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
            EditorGUILayout.PropertyField(so.FindProperty("footstepSounds"), new GUIContent("–ó–≤—É–∫–∏ —à–∞–≥–æ–≤"), true);
            EditorGUILayout.PropertyField(so.FindProperty("stepInterval"), new GUIContent("–ò–Ω—Ç–µ—Ä–≤–∞–ª —à–∞–≥–∞ (—Å–µ–∫)"));

            so.ApplyModifiedProperties(); // –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
        }

        EditorGUILayout.Space();

        // --- –ë–ª–æ–∫ 2: PlayerCuteness (–ì–µ–π–º–ø–ª–µ–π) ---
        var playerCuteness = _playerPrefab.GetComponent<PlayerCuteness>();
        if (playerCuteness != null)
        {
            SerializedObject so = new SerializedObject(playerCuteness);
            so.Update();

            EditorGUILayout.LabelField("–ú–∏–ª–æ—Ç–∞ / –ì–µ–π–º–ø–ª–µ–π (PlayerCuteness)", EditorStyles.miniBoldLabel);

            EditorGUILayout.PropertyField(so.FindProperty("damageSound"), new GUIContent("–ó–≤—É–∫ –ø–æ–ª—É—á–µ–Ω–∏—è –º–∏–ª–æ—Ç—ã"));
            EditorGUILayout.PropertyField(so.FindProperty("restoreSound"), new GUIContent("–ó–≤—É–∫ —É–±–∏–π—Å—Ç–≤–∞ –≤—Ä–∞–≥–∞"));
            EditorGUILayout.PropertyField(so.FindProperty("gameOverSound"), new GUIContent("–ó–≤—É–∫ Game Over"));

            so.ApplyModifiedProperties();
        }
    }

    private void DrawEnemyAudioSettings()
    {
        GUILayout.Label($"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –í—Ä–∞–≥–∞ ({_enemyPrefab.name})", EditorStyles.boldLabel);

        // --- –ë–ª–æ–∫ 1: EnemyAI (–ê—Ç–∞–∫–∞) ---
        var enemyAI = _enemyPrefab.GetComponent<EnemyAI>();
        if (enemyAI != null)
        {
            SerializedObject so = new SerializedObject(enemyAI);
            so.Update();

            EditorGUILayout.LabelField("–ë–æ–π (EnemyAI)", EditorStyles.miniBoldLabel);
            EditorGUILayout.PropertyField(so.FindProperty("attackSound"), new GUIContent("–ó–≤—É–∫ –ê—Ç–∞–∫–∏"));

            so.ApplyModifiedProperties();
        }

        EditorGUILayout.Space();

        // --- –ë–ª–æ–∫ 2: EnemyHealth (–ü–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–Ω–∞) ---
        var enemyHealth = _enemyPrefab.GetComponent<EnemyHealth>();
        if (enemyHealth != null)
        {
            SerializedObject so = new SerializedObject(enemyHealth);
            so.Update();

            EditorGUILayout.LabelField("–ó–¥–æ—Ä–æ–≤—å–µ (EnemyHealth)", EditorStyles.miniBoldLabel);
            EditorGUILayout.PropertyField(so.FindProperty("hitSound"), new GUIContent("–ó–≤—É–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞"));
            EditorGUILayout.PropertyField(so.FindProperty("deathSound"), new GUIContent("–ó–≤—É–∫ —Å–º–µ—Ä—Ç–∏"));

            so.ApplyModifiedProperties();
        }
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏
    private void DrawLine()
    {
        Rect rect = EditorGUILayout.GetControlRect(false, 1);
        rect.height = 1;
        EditorGUI.DrawRect(rect, new Color(0.5f, 0.5f, 0.5f, 1));
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\Camera.cs
================================================================================

using UnityEngine;

public class CameraFollow : MonoBehaviour
{
    [Header("Target")]
    public Transform player;       // –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–≥—Ä–æ–∫–∞

    [Header("Settings")]
    public float smoothSpeed = 5f; // –ù–∞—Å–∫–æ–ª—å–∫–æ –ø–ª–∞–≤–Ω–æ –∫–∞–º–µ—Ä–∞ –¥–æ–≥–æ–Ω—è–µ—Ç –∏–≥—Ä–æ–∫–∞ (—á–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º —Ä–µ–∑—á–µ)

    [Header("Limits")]
    // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥—Ä–∞–Ω–∏—Ü, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ —Ü–µ–Ω—Ç—Ä –∫–∞–º–µ—Ä—ã –Ω–µ –º–æ–∂–µ—Ç –≤—ã–µ—Ö–∞—Ç—å
    public Vector2 minPosition;    // –õ–µ–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª
    public Vector2 maxPosition;    // –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª

    void LateUpdate()
    {
        if (player == null) return;

        // 1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫—É–¥–∞ –∫–∞–º–µ—Ä–∞ –•–û–ß–ï–¢ –ø–æ–ø–∞—Å—Ç—å (–ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞ + —Å–æ—Ö—Ä–∞–Ω—è–µ–º Z –∫–∞–º–µ—Ä—ã)
        Vector3 targetPosition = new Vector3(player.position.x, player.position.y, transform.position.z);

        // 2. –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —ç—Ç—É –ø–æ–∑–∏—Ü–∏—é —Ä–∞–º–∫–∞–º–∏ (Clamp)
        targetPosition.x = Mathf.Clamp(targetPosition.x, minPosition.x, maxPosition.x);
        targetPosition.y = Mathf.Clamp(targetPosition.y, minPosition.y, maxPosition.y);

        // 3. –ü–ª–∞–≤–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞–µ–º –∫–∞–º–µ—Ä—É –∫ —ç—Ç–æ–π —Ç–æ—á–∫–µ
        transform.position = Vector3.Lerp(transform.position, targetPosition, smoothSpeed * Time.deltaTime);
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\EnemyAI.cs
================================================================================

using UnityEngine;

[RequireComponent(typeof(Rigidbody2D))]
[RequireComponent(typeof(AudioSource))] // –í—Ä–∞–≥—É —Ç–æ–∂–µ –Ω—É–∂–µ–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–≤—É–∫–∞
public class EnemyAI : MonoBehaviour
{
    [Header("Targeting")]
    public Transform player;
    public bool findPlayerAutomatically = true;

    [Header("Movement Stats")]
    public float moveSpeed = 3f;
    public float rotationSpeed = 10f;

    [Header("Combat Stats")]
    public float attackRange = 1.5f;
    public float attackCooldown = 1f;
    public float cutenessDamage = 10f;

    [Header("Audio")]
    public AudioClip attackSound; // –ó–≤—É–∫ "–∫—É—Å—å" –∏–ª–∏ —É–¥–∞—Ä–∞

    private Rigidbody2D _rb;
    private AudioSource _audioSource;
    private float _lastAttackTime;
    private Vector2 _movementVector;

    void Awake()
    {
        _rb = GetComponent<Rigidbody2D>();
        _audioSource = GetComponent<AudioSource>();
    }

    void Start()
    {
        if (findPlayerAutomatically && player == null)
        {
            GameObject playerObj = GameObject.FindGameObjectWithTag("Player");
            if (playerObj != null)
            {
                player = playerObj.transform;
            }
        }
    }

    void Update()
    {
        if (player == null) return;

        float distanceToPlayer = Vector2.Distance(transform.position, player.position);

        if (distanceToPlayer > attackRange)
        {
            CalculateMovement();
        }
        else
        {
            StopMovement();
            if (Time.time >= _lastAttackTime + attackCooldown)
            {
                PerformAttack();
            }
        }

        RotateTowardsPlayer();
    }

    void FixedUpdate()
    {
        MoveEnemy();
    }

    private void CalculateMovement()
    {
        Vector2 direction = (player.position - transform.position).normalized;
        _movementVector = direction;
    }

    private void StopMovement()
    {
        _movementVector = Vector2.zero;
    }

    private void RotateTowardsPlayer()
    {
        if (player == null) return;
        Vector2 direction = player.position - transform.position;
        float angle = Mathf.Atan2(direction.y, direction.x) * Mathf.Rad2Deg - 90f;
        Quaternion targetRotation = Quaternion.Euler(0, 0, angle);
        transform.rotation = Quaternion.Lerp(transform.rotation, targetRotation, rotationSpeed * Time.deltaTime);
    }

    private void PerformAttack()
    {
        _lastAttackTime = Time.time;

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –∞—Ç–∞–∫–∏
        if (attackSound != null && _audioSource != null)
        {
            _audioSource.PlayOneShot(attackSound);
        }

        if (player != null)
        {
            PlayerCuteness playerCuteness = player.GetComponent<PlayerCuteness>();
            if (playerCuteness != null)
            {
                playerCuteness.AddCuteness(cutenessDamage);
                Debug.Log($"{name} –¥–æ–±–∞–≤–∏–ª –∏–≥—Ä–æ–∫—É –º–∏–ª–æ—Ç—ã!");
            }
        }
    }

    private void MoveEnemy()
    {
        _rb.MovePosition(_rb.position + _movementVector * moveSpeed * Time.fixedDeltaTime);
    }

    void OnDrawGizmosSelected()
    {
        Gizmos.color = Color.red;
        Gizmos.DrawWireSphere(transform.position, attackRange);
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\EnemyHealth.cs
================================================================================

using UnityEngine;
using System;

[RequireComponent(typeof(AudioSource))]
public class EnemyHealth : MonoBehaviour
{
    [Header("Settings")]
    public float maxHealth = 10f;

    [Header("Audio")]
    public AudioClip hitSound;  // –ó–≤—É–∫ –ø–æ–ø–∞–¥–∞–Ω–∏—è –ø–æ –≤—Ä–∞–≥—É
    public AudioClip deathSound; // –ó–≤—É–∫ —Å–º–µ—Ä—Ç–∏ –≤—Ä–∞–≥–∞

    public static event Action<float> OnEnemyDied;

    private float _currentHealth;
    private AudioSource _audioSource;

    void Awake()
    {
        _audioSource = GetComponent<AudioSource>();
    }

    void OnEnable()
    {
        _currentHealth = maxHealth;
    }

    public void TakeDamage(float damage)
    {
        _currentHealth -= damage;

        // –ó–≤—É–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
        if (hitSound != null)
        {
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º PlayOneShot, —á—Ç–æ–±—ã –∑–≤—É–∫–∏ –º–æ–≥–ª–∏ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—á–µ—Ä–µ–¥—å –∏–∑ –∞–≤—Ç–æ–º–∞—Ç–∞)
            _audioSource.PlayOneShot(hitSound);
        }

        if (_currentHealth <= 0)
        {
            Die();
        }
    }

    private void Die()
    {
        OnEnemyDied?.Invoke(5f);

        // –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º PlayClipAtPoint, —Ç–∞–∫ –∫–∞–∫ gameObject —Å–µ–π—á–∞—Å –±—É–¥–µ—Ç —É–Ω–∏—á—Ç–æ–∂–µ–Ω.
        // –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å _audioSource.Play(), –∑–≤—É–∫ –ø—Ä–µ—Ä–≤–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
        if (deathSound != null)
        {
            AudioSource.PlayClipAtPoint(deathSound, transform.position);
        }

        Destroy(gameObject);
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\MinimapFollow.cs
================================================================================

using UnityEngine;

public class MinimapFollow : MonoBehaviour
{
    public Transform player; // –ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ –∏–≥—Ä–æ–∫–∞

    // –ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –º–∏–Ω–∏–∫–∞—Ä—Ç–∞ –≤—Ä–∞—â–∞–ª–∞—Å—å –≤–º–µ—Å—Ç–µ —Å –∏–≥—Ä–æ–∫–æ–º, –ø–æ—Å—Ç–∞–≤—å true
    public bool rotateWithPlayer = false;

    void LateUpdate()
    {
        if (player == null) return;

        // –°–ª–µ–¥–∏–º –∑–∞ –ø–æ–∑–∏—Ü–∏–µ–π –∏–≥—Ä–æ–∫–∞, –Ω–æ –≤—ã—Å–æ—Ç—É (z) –æ—Å—Ç–∞–≤–ª—è–µ–º —Å–≤–æ—é (-10 –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É)
        Vector3 newPosition = player.position;
        newPosition.z = transform.position.z;
        transform.position = newPosition;

        if (rotateWithPlayer)
        {
            // –í—Ä–∞—â–∞–µ–º –∫–∞–º–µ—Ä—É —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏–≥—Ä–æ–∫–∞ (–≤–æ–∫—Ä—É–≥ –æ—Å–∏ Z)
            transform.rotation = Quaternion.Euler(0, 0, player.eulerAngles.z);
        }
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\PlayerController.cs
================================================================================

using UnityEngine;
using UnityEngine.InputSystem;

// –î–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ null reference
[RequireComponent(typeof(AudioSource))]
public class PlayerController : MonoBehaviour
{
    [Header("Settings")]
    public float moveSpeed = 10f;

    [Header("Audio Settings")]
    public AudioClip[] footstepSounds; // –ú–∞—Å—Å–∏–≤ –∑–≤—É–∫–æ–≤ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
    public float stepInterval = 0.5f;  // –ö–∞–∫ —á–∞—Å—Ç–æ –∏–≥—Ä–∞—Ç—å –∑–≤—É–∫ (—á–µ–º –º–µ–Ω—å—à–µ, —Ç–µ–º —á–∞—â–µ)

    [Header("References")]
    public Camera cam;
    public Rigidbody2D rb;

    private Vector2 movement;
    private Vector2 mousePos;
    private AudioSource _audioSource;
    private float _stepTimer;

    [HideInInspector] public float speedMultiplier = 1f;

    void Awake()
    {
        // –ö—ç—à–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        _audioSource = GetComponent<AudioSource>();
    }

    void Update()
    {
        // 1. –°—á–∏—Ç—ã–≤–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        movement = Vector2.zero;
        if (Keyboard.current != null)
        {
            if (Keyboard.current.wKey.isPressed) movement.y += 1;
            if (Keyboard.current.sKey.isPressed) movement.y -= 1;
            if (Keyboard.current.aKey.isPressed) movement.x -= 1;
            if (Keyboard.current.dKey.isPressed) movement.x += 1;
        }

        movement = movement.normalized;

        // 2. –°—á–∏—Ç—ã–≤–∞–µ–º –º—ã—à—å
        if (Mouse.current != null)
        {
            mousePos = cam.ScreenToWorldPoint(Mouse.current.position.ReadValue());
        }

        // 3. –õ–æ–≥–∏–∫–∞ –∑–≤—É–∫–∞ —à–∞–≥–æ–≤
        HandleFootsteps();
    }

    void FixedUpdate()
    {
        float currentSpeed = moveSpeed * speedMultiplier;
        rb.MovePosition(rb.position + movement * currentSpeed * Time.fixedDeltaTime);

        Vector2 lookDir = mousePos - rb.position;
        float angle = Mathf.Atan2(lookDir.y, lookDir.x) * Mathf.Rad2Deg - 90f;
        rb.rotation = angle;
    }

    private void HandleFootsteps()
    {
        // –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –¥–≤–∏–≥–∞–µ—Ç—Å—è (–≤–µ–∫—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è –Ω–µ —Ä–∞–≤–µ–Ω –Ω—É–ª—é)
        if (movement.sqrMagnitude > 0.1f)
        {
            _stepTimer -= Time.deltaTime;

            if (_stepTimer <= 0)
            {
                PlayRandomFootstep();
                _stepTimer = stepInterval; // –°–±—Ä–æ—Å —Ç–∞–π–º–µ—Ä–∞
            }
        }
        else
        {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä, —á—Ç–æ–±—ã –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –¥–≤–∏–∂–µ–Ω–∏—è –∑–≤—É–∫ –±—ã–ª —Å—Ä–∞–∑—É
            _stepTimer = 0;
        }
    }

    private void PlayRandomFootstep()
    {
        if (footstepSounds.Length == 0) return;

        // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∑–≤—É–∫ –∏–∑ –º–∞—Å—Å–∏–≤–∞ –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
        int index = Random.Range(0, footstepSounds.Length);

        // –ò–∑–º–µ–Ω—è–µ–º –≤—ã—Å–æ—Ç—É —Ç–æ–Ω–∞ (pitch) –Ω–µ–º–Ω–æ–≥–æ, —á—Ç–æ–±—ã –∑–≤—É–∫–∏ –Ω–µ –∫–∞–∑–∞–ª–∏—Å—å —Ä–æ–±–æ—Ç–æ–ø–æ–¥–æ–±–Ω—ã–º–∏
        _audioSource.pitch = Random.Range(0.9f, 1.1f);
        _audioSource.PlayOneShot(footstepSounds[index]);
    }
}

================================================================================
–§–ê–ô–õ: C:\Users\mexanik01\Documents\GameDev\Safe Rabbit\Rabbit\Assets\Sctipts\PlayerCuteness.cs
================================================================================

using UnityEngine;

[RequireComponent(typeof(AudioSource))]
[RequireComponent(typeof(PlayerController))] // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ –º—ã –µ–≥–æ –æ—Ç–∫–ª—é—á–∞–µ–º
public class PlayerCuteness : MonoBehaviour
{
    [Header("Cuteness Settings")]
    public float maxCuteness = 100f;
    public float startCuteness = 0f;

    [Header("Gameplay Balance")]
    public float passiveCutenessGain = 1f;

    [Header("Audio")]
    public AudioClip damageSound;   // –ó–≤—É–∫, –∫–æ–≥–¥–∞ –º–∏–ª–æ—Ç–∞ —Ä–∞—Å—Ç–µ—Ç (–ø–æ–ª—É—á–∞–µ–º "—É—Ä–æ–Ω")
    public AudioClip restoreSound;  // –ó–≤—É–∫, –∫–æ–≥–¥–∞ —É–±–∏–≤–∞–µ–º –≤—Ä–∞–≥–∞ (–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±—Ä—É—Ç–∞–ª—å–Ω–æ—Å—Ç—å)
    public AudioClip gameOverSound; // –ó–≤—É–∫ –ø—Ä–æ–∏–≥—Ä—ã—à–∞

    public float CurrentCuteness { get; private set; }

    private bool _isGameOver = false;
    private AudioSource _audioSource;

    void Awake()
    {
        _audioSource = GetComponent<AudioSource>();
    }

    void Start()
    {
        CurrentCuteness = startCuteness;
    }

    void OnEnable()
    {
        EnemyHealth.OnEnemyDied += OnEnemyKilled;
    }

    void OnDisable()
    {
        EnemyHealth.OnEnemyDied -= OnEnemyKilled;
    }

    void Update()
    {
        if (_isGameOver) return;
        AddCuteness(passiveCutenessGain * Time.deltaTime, isPassive: true);
    }

    private void OnEnemyKilled(float brutailityRestoreAmount)
    {
        if (_isGameOver) return;

        RemoveCuteness(brutailityRestoreAmount);

        // –ó–≤—É–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (–ø—Ä–∏—è—Ç–Ω—ã–π –∑–≤—É–∫)
        if (restoreSound != null)
        {
            _audioSource.PlayOneShot(restoreSound);
        }
    }

    // –î–æ–±–∞–≤–∏–ª –ø–∞—Ä–∞–º–µ—Ç—Ä isPassive, —á—Ç–æ–±—ã –∑–≤—É–∫ –Ω–µ —Å–ø–∞–º–∏–ª –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –æ—Ç –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –ø—Ä–∏—Ä–æ—Å—Ç–∞
    public void AddCuteness(float amount, bool isPassive = false)
    {
        if (_isGameOver) return;

        CurrentCuteness += amount;
        CurrentCuteness = Mathf.Clamp(CurrentCuteness, 0, maxCuteness);

        // –ò–≥—Ä–∞–µ–º –∑–≤—É–∫ "—É—Ä–æ–Ω–∞" (–ø–æ–ª—É—á–µ–Ω–∏—è –º–∏–ª–æ—Ç—ã) —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–∞—Å—Å–∏–≤–Ω–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ
        if (!isPassive && damageSound != null && amount > 0)
        {
            _audioSource.PlayOneShot(damageSound);
        }

        CheckGameOver();
    }

    public void RemoveCuteness(float amount)
    {
        if (_isGameOver) return;

        CurrentCuteness -= amount;
        CurrentCuteness = Mathf.Clamp(CurrentCuteness, 0, maxCuteness);
    }

    public float GetCutenessNormalized()
    {
        return CurrentCuteness / maxCuteness;
    }

    private void CheckGameOver()
    {
        if (CurrentCuteness >= maxCuteness)
        {
            TriggerGameOver();
        }
    }

    private void TriggerGameOver()
    {
        _isGameOver = true;
        Debug.Log("GAME OVER: –í—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏—Å—å –≤ –∑–∞–π—á–∏–∫–∞! –°–ª–∏—à–∫–æ–º –º–∏–ª–æ!");

        // –ó–≤—É–∫ –ø—Ä–æ–∏–≥—Ä—ã—à–∞
        if (gameOverSound != null)
        {
            _audioSource.PlayOneShot(gameOverSound);
        }

        GetComponent<PlayerController>().enabled = false;

        // –°–æ–≤–µ—Ç: –ó–¥–µ—Å—å –ª—É—á—à–µ –≤—ã–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É —É—Ä–æ–≤–Ω—è –∏–ª–∏ –ø—Ä–∏–≥–ª—É—à–∏—Ç—å –µ—ë, 
        // –Ω–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É.
    }
}
